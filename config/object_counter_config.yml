# Video capturing settings
videoCapture:
  capture: file

  file:
    src: assets/videos/people_walking.mp4

  # For src as a camera index you can check the camera capabilities running:
  #   v4l2-ctl --list-formats-ext -d /dev/video{src}
  # To list all devices:
  #   v4l2-ctl --list-devices
  # If the command v4l2-ctl is not available in your system run:
  #   sudo apt-get install v4l-utils
  camera:
    src: 0
    fourcc: MJPG
    #fourcc: YUYV
    resolution: [640, 480]
    fps: 30

  stream:
    # GStream test stream
    #src: videotestsrc ! appsink

    # Jetson Nano camera stream
    src: >-
      nvarguscamerasrc sensor-id=0 sensor_mode=3 !
      video/x-raw(memory:NVMM), width=(int)1280, height=(int)720, format=(string)NV12, framerate=(fraction)30/1 !
      nvvidconv flip-method=2 !
      video/x-raw, width=(int)640, height=(int)480, format=(string)BGRx !
      videoconvert !
      video/x-raw, format=(string)BGR !
      appsink
    api_preference: CAP_GSTREAMER

  piCamera:
    src: 0
    resolution: [640, 480]
    framerate: 30
    settings:
      rotation: 180

  # Transform video frames
  transform_:
    resize:
      width: 320
    # 1 - for removing mirror effect
    flip: 1  # 0 - vertical, 1 - horizontal, -1 - vertical and horizontal

# Object detector settings
objectDetector:
  model: caffe
  caffe:
    prototxt: models/MobileNetSSD_deploy.prototxt
    model: models/MobileNetSSD_deploy.caffemodel
    frame_skip: 20
    confidence: 0.3
    wanted_classes: ["person"]

# People counter settings
objectCounter:
  max_disappeared: 40
  max_distance: 80
  tracker: opencv
  opencv:
    tracker_type: kcf